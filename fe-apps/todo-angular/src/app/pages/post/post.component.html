<div class="page-container">
  <h5 class="posts-title"><span *ngIf="!postId">Add</span> <span *ngIf="postId">Edit</span> post</h5>
  <div class="error red-text" *ngIf="pageErrorMsg">{{pageErrorMsg}}</div>
  <div class="success green-text" *ngIf="pageSuccessMsg">{{pageSuccessMsg}}</div>
  <div class="posts" *ngIf="!postId || (postId && postObj && postObj._id)">
    <div class="card">
      <div *ngIf="postId" class="row card-header blue-grey lighten-5">
        <div class="post-author col s6">
          Added by - <span class="grey-text text-darken-2">{{postObj.author}}</span>
        </div>
        <div class="post-date col s6">
          <span class="grey-text text-darken-2">{{postObj.addedDate|date:"d MMM, yyyy"}}</span>
        </div>
      </div>
      <div class="card-content">
        <div class="input-field">
          <label for="message" class="active">Message</label>
          <textarea id="message" name="message" [(ngModel)]="postObj.message" placeholder="Message" class="materialize-textarea grey-text text-darken-2" required cols="30" rows="4"></textarea>
        </div>
        <div class="row">
          <div class="col s6 grey-text text-darken-2">Complete</div>
          <div class="switch col s6">
            <label>
              No
              <input type="checkbox" name="isAdmin" [(ngModel)]="postObj.complete" [checked]="postObj.complete">
              <span class="lever"></span>
              Yes
            </label>
          </div>
        </div>
      </div>
      <div class="card-action">
        <a (click)="addPost(postObj)" *ngIf="!postId" class="waves-effect waves-light btn-small">Add post</a>
        <a (click)="updatePost(postObj)" *ngIf="postId" class="waves-effect waves-light btn-small">Update post</a>
        <a (click)="resetPostChanges()" *ngIf="postId" class="waves-effect waves-light btn-small red lighten-2">Reset changes</a>
      </div>
    </div>
  </div>
</div>